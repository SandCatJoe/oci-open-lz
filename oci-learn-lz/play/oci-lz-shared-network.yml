# ####################################################################################################### #
# Copyright (c) 2023 Oracle and/or its affiliates,  All rights reserved.                                  #
# Licensed under the Universal Permissive License v 1.0 as shown at https: //oss.oracle.com/licenses/upl. #
# ####################################################################################################### #

---
network_configuration:
  default_enable_cis_checks: false
  default_freeform_tags:
    lz-data-type: staging
    lz-version: 0.1
  network_configuration_categories:
    HUB:
      category_compartment_id: CMP-SHARED-NETWORK-KEY
      category_freeform_tags:
        sub-environment: hub
      vcns:
        VCN-HUB-KEY:
          block_nat_traffic: false
          cidr_blocks:
          - 10.0.0.0/16
          default-security-list:
            egress_rules:
            - description: egress to 0.0.0.0/0 over ALL protocols
              dst: 0.0.0.0/0
              dst_type: CIDR_BLOCK
              protocol: ALL
              stateless: false
          security_lists:
            SECLIST-LOAD-BALANCER-KEY:
              display_name: seclist-hub-network-lb
              egress_rules:
              - description: egress to 0.0.0.0/0 over ALL protocols
                stateless: false
                protocol: ALL
                dst: 0.0.0.0/0
                dst_type: CIDR_BLOCK
              ingress_rules:
              - description: ICMP 
                stateless: false
                protocol: ICMP
                src : 10.0.0.0/16
                src_type: CIDR_BLOCK
                icmp_type: 3
                icmp_code: -1
              - description: ICMP
                stateless: false
                protocol: ICMP
                src : 0.0.0.0/0
                src_type: CIDR_BLOCK
                icmp_type: 3
                icmp_code: 4
            SECLIST-NETWORK-FIREWALL-KEY:
              display_name: seclist-hub-network-firewall
              egress_rules:
              - description: egress to 0.0.0.0/0 over ALL protocols
                stateless: false
                protocol: ALL
                dst: 0.0.0.0/0
                dst_type: CIDR_BLOCK
              ingress_rules:
              - description: ICMP
                stateless: false
                protocol: ICMP
                src : 10.0.0.0/16
                src_type: CIDR_BLOCK
                icmp_type: 3
                icmp_code: -1
              - description: ICMP
                stateless: false
                protocol: ICMP
                src : 0.0.0.0/0
                src_type: CIDR_BLOCK
                icmp_type: 3
                icmp_code: 4
            SECLIST-TRUST-KEY:
              display_name: seclist-hub-trusted
              egress_rules:
              - description: egress to 0.0.0.0/0 over ALL protocols
                stateless: false
                protocol: ALL
                dst: 0.0.0.0/0
                dst_type: CIDR_BLOCK
              ingress_rules:
              - description: ICMP
                stateless: false
                protocol: ICMP
                src : 10.0.0.0/16
                src_type: CIDR_BLOCK
                icmp_type: 3
                icmp_code: -1
              - description: ICMP
                stateless: false
                protocol: ICMP
                src : 0.0.0.0/0
                src_type: CIDR_BLOCK
                icmp_type: 3
                icmp_code: 4
            SECLIST-UNTRUST-KEY:
              display_name: seclist-hub-untrusted
              egress_rules:
              - description: egress to 0.0.0.0/0 over ALL protocols
                stateless: false
                protocol: ALL
                dst: 0.0.0.0/0
                dst_type: CIDR_BLOCK
              ingress_rules:
              - description: ICMP
                stateless: false
                protocol: ICMP
                src : 10.0.0.0/16
                src_type: CIDR_BLOCK
                icmp_type: 3
                icmp_code: -1
              - description: ICMP
                stateless: false
                protocol: ICMP
                src : 0.0.0.0/0
                src_type: CIDR_BLOCK
                icmp_type: 3
                icmp_code: 4
          display_name: lz-s-vcn-hub-lhr
          dns_label: hub
          is_ipv6enabled: false
          is_oracle_gua_allocation_enabled: false
          route_tables:
            RT-HUB-FIREWALL-KEY:
              display_name: rt-hub-firewall
              route_rules: {}
            RT-HUB-LB-KEY:
              display_name: rt-hub-network-lb-lhr
              route_rules:
                internet_route:
                  network_entity_key: GATEWAY-HUB-INTERNET-KEY
                  description: Route for internet access
                  destination: 0.0.0.0/0
                  destination_type: CIDR_BLOCK
            RT-HUB-TRUST-KEY:
              display_name: rt-hub-trusted-lhr
              route_rules: {}
            RT-HUB-UNTRUST-KEY:
              display_name: rt-hub-untrusted-lhr
              route_rules: {}
          subnets:
            SUBNET-HUB-FIREWALL-KEY:
              cidr_block: 10.0.0.0/24
              dhcp_options_key: default_dhcp_options
              display_name: sn-hub-firewall
              dns_label: nfw
              ipv6cidr_blocks: []
              prohibit_internet_ingress: true
              prohibit_public_ip_on_vnic: true
              route_table_key: RT-HUB-FIREWALL-KEY
              security_list_keys:
              - SECLIST-NETWORK-FIREWALL-KEY
            SUBNET-HUB-LB-KEY:
              cidr_block: 10.0.1.0/24
              dhcp_options_key: default_dhcp_options
              display_name: sn-hub-network-lb
              dns_label: nlb
              ipv6cidr_blocks: []
              prohibit_internet_ingress: false
              prohibit_public_ip_on_vnic: false
              route_table_key: RT-HUB-LB-KEY
              security_list_keys:
              - SECLIST-LOAD-BALANCER-KEY
            SUBNET-HUB-TRUST-KEY:
              cidr_block: 10.0.2.0/24
              dhcp_options_key: default_dhcp_options
              display_name: sn-hub-trusted
              dns_label: trst
              ipv6cidr_blocks: []
              prohibit_internet_ingress: true
              prohibit_public_ip_on_vnic: true
              route_table_key: RT-HUB-TRUST-KEY
              security_list_keys:
              - SECLIST-TRUST-KEY
            SUBNET-HUB-UNTRUST-KEY:
              cidr_block: 10.0.3.0/24
              dhcp_options_key: default_dhcp_options
              display_name: sn-hub-untrusted
              dns_label: utrst
              ipv6cidr_blocks: []
              prohibit_internet_ingress: true
              prohibit_public_ip_on_vnic: true
              route_table_key: RT-HUB-UNTRUST-KEY
              security_list_keys:
              - SECLIST-UNTRUST-KEY
          vcn_specific_gateways:
            internet_gateways: 
              GATEWAY-HUB-INTERNET-KEY:
                enabled: true
                display_name: igw-hub
            nat_gateways:
              GATEWAY-HUB-NAT-KEY:
                block_traffic: false
                display_name: ngw-hub
            service_gateways:
              GATEWAY-HUB-SERVICE-GATEWAY:
                display_name: sg-hub
                services: all-services
